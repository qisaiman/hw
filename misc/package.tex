%-------page layout--------%
% adapted from <http://www.khirevich.com/latex/page_layout/>
%\usepackage[DIV=14,BCOR=2mm,headinclude=true,footinclude=false]{typearea}

%\makeatletter
%\if@twoside % commands below work only for twoside option of \documentclass
%    \newlength{\textblockoffset}
%    \setlength{\textblockoffset}{12mm}
%    \addtolength{\hoffset}{\textblockoffset}
%    \addtolength{\evensidemargin}{-2.0\textblockoffset}
%\fi
%\makeatother

% packages used in uncc-thesis

%\RequirePackage{ifthen}
%\RequirePackage{setspace} % for double spacing
%\RequirePackage{comment}
%\RequirePackage{epsfig}
%\usepackage{sectsty} % for sectional header style. Alternative: titlesec package
% \usepackage{tocloft}
%\usepackage{geometry}

\usepackage{microtype} % better layout
%%-- mathmatical symbols and equations-----
\usepackage{amsmath,amsthm}
\providecommand*{\ud}{\mathrm{d}}
\theoremstyle{definition}
\newtheorem{hypothesis}{Hypothesis}


\usepackage{ifluatex}
% Note: When switching the compiler, one should delete the .aux files.
\ifluatex

\usepackage{fontspec} % to compile with LuaLatex
\setmainfont{Times New Roman} % to compile with LuaLatex
\usepackage{unicode-math}
\setmathfont{Asana-Math.otf} % latinmodern-math or xits-math 
% truetype math font 
\usepackage{polyglossia}
\setdefaultlanguage{english}
\usepackage{csquotes}% Recommended 


\else

%----inherent of article class-------%
\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)
\usepackage{pslatex} % not bad

\usepackage{amssymb}
 %\numberwithin{equation}{section}
 %\numberwithin{figure}{section}
\usepackage{csquotes}% Recommended 
\usepackage[english]{babel}% Recommended

\fi


%--- for font ----
% \usepackage[T1]{fontenc}
% \usepackage{textcomp}

%\usepackage{mathptmx} % fine but not truetype
% \usepackage{newtxtext}
 %-- end of font adaption

\usepackage{graphicx} % support the \includegraphics command and options
% check pdftex option
\usepackage{placeins} % for float and \FloatBarrier command

\usepackage{subfig}
%\usepackage{float} % for images
 \graphicspath{{../gallery/}} %--added by author

%\usepackage[font=small, labelfont=bf]{caption}
\usepackage[font=small]{caption}
%\usepackage{subcaption} % for multi floats in figure or minipage environments, conflict with subfig package

% It supplies a landscape environment, and anything inside is basically rotated.(http://en.wikibooks.org/wiki/LaTeX/Page_Layout)
%\usepackage{lscape}
\usepackage{pdflscape}
%\usepackage{rotating} % use \begin{sidewaystable}

% Helps format tables using the \toprule, \midrule, and \bottomrule commands (http://en.wikibooks.org/wiki/LaTeX/Tables#Using_booktabs)
\usepackage{booktabs}
%\usepackage{multirow} for multirow in tables
%  Helps format tables (http://en.wikibooks.org/wiki/LaTeX/Tables#Using_array)
%\usepackage{array}

%%-- Additional style---- modified by Tao Sheng 12/20/12
% for chemical formula, subscripts etc
\usepackage[version=3]{mhchem}
\usepackage{siunitx}
\DeclareSIUnit \torr{Torr}


%------- bibliography and citation ------


\usepackage[style=numeric-comp,
		    sorting=nty,
            hyperref=true,
            url=false,
            isbn=false,
            doi=false,
            backref=true,
            maxcitenames=2,
            maxbibnames=4,
            block=none,
            backend=bibtex,
            natbib=true]{biblatex}
% \usepackage[bibencoding=latin1]{biblatex}

\DefineBibliographyStrings{english}{%
    backrefpage  = {see p.}, % for single page number
    backrefpages = {see pp.} % for multiple page numbers
}
% suppress 'in:'
\renewbibmacro{in:}{%
  \ifentrytype{article}{}{\printtext{\bibstring{in}\intitlepunct}}}
% document preamble
% removes period at the very end of bibliographic record
\renewcommand{\finentrypunct}{}
% removes pagination (p./pp.) before page numbers
\DeclareFieldFormat{pages}{#1}


\providecommand*{\bibpath}{E:/spring2012/Ubuntu/Latex/Mendeley_Bib_lib}
\bibliography{\bibpath/ECD.bib,\bibpath/tungsten_newandgood.bib,\bibpath/ACSnano.bib,%
\bibpath/tungsten_old.bib,\bibpath/Raman.bib,\bibpath/Molybdenum.bib,%
\bibpath/tungsten_cl.bib,\bibpath/optics,\bibpath/CVD.bib,\bibpath/sodium.bib,\bibpath/VLS.bib,\bibpath/thesis.bib,\bibpath/arix.bib}

%-- for works around, packages conflicts----

%-- redefine toc macros ------
% pdflatex and lualatex all ignore list of abbre
% polyglossia is a babel replacement for lualatex; it relies on fontspec
% how the book documentclass build TOC
%
\addto\captionsenglish{%
\renewcommand\chaptername{CHAPTER}%
\renewcommand\appendixname{APPENDIX}%
\renewcommand\indexname{INDEX}%
\renewcommand{\contentsname}{TABLE OF CONTENTS}%
\renewcommand{\listfigurename}{LIST OF FIGURES}%
\renewcommand{\listtablename}{LIST OF TABLES}%
}

%-- misc---
\usepackage{lipsum}
\usepackage{latexsym}
 \providecommand*{\thefootnote}{\fnsumbol{footnote}}

\usepackage{xcolor}
\usepackage{listings}
\lstset{
 frame = single,
 language = matlab,
 breaklines = true,
postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}}
}

\usepackage[inline]{enumitem}
\setlist{nolistsep} % or \setlist{noitemsep}
%\setlist[1]{\labelindent=\parindent}
%% -- links ---
%\usepackage[breaklinks=true]{hyperref}
%\usepackage[linktocpage]{hyperref}
\usepackage{hyperref}
\hypersetup{
colorlinks,%
citecolor=black,%
filecolor=black,%
linkcolor=black,%
urlcolor=black
} % make all links black
% to set pdf in a preset view
% pdfstartview:
\hypersetup{pdfstartview={XYZ null null 1.00}}
%http://tex.stackexchange.com/questions/128879/defined-acronymname-is-not-used-in-toc-but-the-standard-acronyms-why
\usepackage[acronym]{glossaries} % loaded after hyperref
\renewcommand{\acronymname}{LIST OF ABBREVIATIONS}

\iffalse
long name issue

%http://tex.stackexchange.com/questions/4311/how-can-i-force-long-chapter-names-including-page-numbers-to-stay-in-the-margi?rq=1

My section title is too wide for the page header
http://www.tex.ac.uk/cgi-bin/texfaq2html?label=runheadtoobig

http://tex.stackexchange.com/questions/16032/how-do-i-indent-the-2nd-line-a-long-chapter-name-created-using-the-tocloft-packa

http://tex.stackexchange.com/questions/24745/why-does-setlength-using-tocloft-causes-strange-alignment-in-toc

or move to the other template using titlesec
http://tex.stackexchange.com/questions/58775/somethings-wrong-with-tocloft






\fi